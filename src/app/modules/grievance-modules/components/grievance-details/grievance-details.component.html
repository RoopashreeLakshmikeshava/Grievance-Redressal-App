<app-breadcrumb [breadcrumbItems]="breadcrumbItems"></app-breadcrumb>
<div class="content">
    <div class="ml4 body-header flex justify-between items-center mb-4 ">
        <h2 class="ml4">Grievance Details </h2>
        <div class="button-group ">
            <button mat-stroked-button color="primary" class="ml2">Back</button>
            <button mat-stroked-button color="primary" class="ml2">Mark as Junk</button>
            <button mat-stroked-button color="primary" class="ml2">Assign</button>
        </div>
    </div>
    <div class="flex flex-column">
        <div class="flex flex-row  ml4">
            <div class="flex flex-column ml3 mt3 mr3">
                <h3>Ticket ID</h3>
                    <p >{{ticketId}}
                    </p>
            </div>
            <div class="flex flex-row  ml4 mr4">
                </div>
                <div class="ml4 flex flex-column mt3">
                <h3 >Grievance Raiser</h3>
                    <p >{{grievanceRaiser}}
                    </p>
                    
            </div>
        </div>
        <div class="ml4  flex flex-row  ">
            <div class="flex flex-column ml3 mt3">
                <h3 >Creation Time</h3>
                    <p >{{creationTime}}
                    </p>
                    
            </div>
            <div class="flex flex-row  ml4 mr4">
            </div>
            <div class="ml4 flex flex-column mt3">
                <h3 >Escalation Time</h3>
                        <p >{{escalationTime}}
                        </p>
                    
                    
            </div>
        </div>
        <div class="flex flex-row  mt2 ml3 ">
            <div class="ml4 flex flex-column mt3">
                <h3 >Type of Grievance</h3>
                        <p >{{grievanceType}}
                        </p>
                    
                    
            </div>
            <div class="flex flex-row  ml4 mr4">
            </div>
            <div class="ml3 flex flex-column mt3">
                <h3 >User Type</h3>
                    <p >{{userType}}
                    </p>
            </div>

        </div>

        <div class="flex flex-row  ml4 mt3">
            <div class="flex flex-column ml3 mt2">
                <h3 class="mb1 mt2" style="font-weight:400">Description</h3>
                <p >{{desc}}
                </p>
            </div>
        </div>

        <div class="flex flex-row  ml4 mt3">
            <div class="flex flex-column mt1 ml3">
                <h3 class="mb1 mt2" style="font-weight:400">Attached documents</h3>
            </div>
            
        </div>
        <div  class="flex flex-row  ml4 " >
            <div class="flex flex-column "*ngIf="listOfFiles?.length; else noFilesAttached">
                
                    <div  class="flex flex-row ml2" *ngFor="let selected of listOfFiles; let index = index">
                        
                    
                                <mat-list>
                                <mat-list-item>{{ selected }}  <span class="mt2 ml4" (click)="previewSelectedFile(index)"><a>View</a></span></mat-list-item>
                                <mat-divider></mat-divider>
                                
                                </mat-list> 
                        
                    </div>
            </div>

            <ng-template class="ml4" #noFilesAttached>

                <div  class="flex flex-row ml2 ml4 ml4 ">
                -
            </div>
            </ng-template>
        </div>

        <form [formGroup]="grievanceAssignerformGroup">
        <div class="flex flex-row  ml4 mt3">
            <div class="flex flex-column mt1 ml3">
                <h3 class="mb1 mt2" style="font-weight:400">Assign  to</h3>
            </div>
            
        </div>
        <div class="ml4 flex flex-row">
            <mat-form-field class="ml3" appearance="outline" style="width:16.5rem">
                <mat-label>Select from the list</mat-label>
                <mat-select (selectionChange)="grievanceOfficerSelected($event)" formControlName="grievanceOfficer">
                    <span *ngFor='let officer of grievancesOfficersArray;let i = index'>
                        <mat-option [value]="officer">{{officer}}</mat-option>
                    </span>
                </mat-select>
                
            </mat-form-field>
            <!--   <span>  <button mat-stroked-button color="primary" class="ml2">Add</button></span>
    -->      </div>
    </form>
    <div *ngIf="selectedOfficer" class="flex flex-row  ml4 mt1">
        <div class="flex flex-column mt1">
            
                <div  class="flex flex-row ml2" >
                    
                            <mat-list>
                            <mat-list-item>{{ selectedOfficer }}  
                                <mat-icon role="button" class="mt2 ml4" (click)="removeSelectedOfficer($event)"><a>delete</a></mat-icon></mat-list-item>
                            <mat-divider></mat-divider>
                            </mat-list> 
                </div>
        </div>

    </div>
        <br /> <br /> <br /> <br /> <br /> <br /> <br />
    </div>
     
   
</div>